<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<link
			rel="icon"
			type="image/x-icon"
			href="./favicon.ico"
		/>
		<link
			rel="icon"
			type="image/png"
			href="favicon-32x32.png"
			sizes="32x32"
		/>
		<link
			rel="icon"
			type="image/png"
			href="favicon-16x16.png"
			sizes="16x16"
		/>
		<title>The Green FootPrint</title>
		<link
			rel="stylesheet"
			href="./css/styleStart.css"
		/>
		<link
			rel="stylesheet"
			href="./css/continueButton.css"
		/>
		<link
			rel="stylesheet"
			href="./css/name.css"
		/>
	</head>
	<body>
		<audio
			id="entrySound"
			src="https://s3.amazonaws.com/files.uploads.lastmileai.com/uploads/cltsxnuvr025tquys61gwaz7i/2024_3_16_6_11_5/6509/Wekindlyrequestthatyouprovideuswithyourna.mp3"
			preload="auto"
		></audio>
		<div class="nav">
			<nav>
				<a href="/">
					<img
						src="./assets/logoGreenFootPrint.svg"
						alt="Green FootPrint logo"
					/>
				</a>
			</nav>
		</div>
		<div class="container">
			<div
				class="framecontainer"
				style="color: orange"
			>
				<div class="container">
					<div class="container__item">
						<form class="form">
							<input
								type="text"
								class="form__field"
								placeholder="Your Kind Name"
							/>
							<button
								type="button"
								class="btn btn--primary btn--inside uppercase"
							>
								Next
							</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		<section class="footer">
			<footer>
				<img
					src="./assets/footer.svg"
					alt="Footer Image"
				/>
			</footer>
		</section>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script>
			$(document).ready(function () {
				var entrySound = $("#entrySound")[0]; // Get the native audio element for entry sound

				// Attempt to play the entry sound on page load
				entrySound.play().catch(function (error) {
					console.error(
						"Playback prevented due to browser restrictions. User must interact with the document.",
						error
					);
				});
			});
		</script>

		<script>
			// Inline JavaScript to handle the click event and redirect
			document.addEventListener("DOMContentLoaded", (event) => {
				// Use querySelector to select the button using its class
				var nextButton = document.querySelector(
					".btn.btn--primary.btn--inside.uppercase"
				);

				// Define the function to be called when the button is clicked
				nextButton.addEventListener("click", function () {
					// Use querySelector to get the value from the first input with class 'form__field'
					var nameValue = document
						.querySelector(".form__field")
						.value.trim();

					// If the input is not empty, store it and redirect
					if (nameValue) {
						// Create a JSON object with the name input
						var jsonToStore = JSON.stringify({ name: nameValue });

						// Store the JSON object in localStorage with a key
						localStorage.setItem("userData", jsonToStore);

						// Redirect to next.html in the same directory
						window.location.href = "./pollFrame.html";
					}
				});
			});
		</script>
	</body>
</html>
